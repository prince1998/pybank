#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import Factory kivy.factory.Factory

ScreenManagement:
	transition:FadeTransition()
	
	RegisterScreen:
	LoginScreen:
	UserScreen:
	MoneyScreen:
	
<RegisterScreen>:
	name:"register"
	
	GridLayout:
		rows:5
		size_hint:1,1
		padding:100
		spacing:0,10
		
		TextInput:
			id:name
			padding_x:200
			padding_y:25
			hint_text:'Enter Name'
		
		TextInput:
			id:email
			padding_x:200
			padding_y:25
			hint_text:'Enter Email'
			
		TextInput:
			id:password
			padding_x:200
			padding_y:25
			password:'true'
			hint_text:'Enter Password'
			
		Button:
			text:'Create Account'
			on_press:root.create_user()
			
		Button:
			text:'Sign In'
			on_press:root.manager.current='login'
			
			
<LoginScreen>:
	name:"login"

	GridLayout:
		rows:4
		size_hint:1,1
		padding:100
		spacing:0,10
		
		TextInput:
			id:email
			padding_x:200
			padding_y:35
			hint_text:'Enter Email'
			
		TextInput:
			id:password
			padding_x:200
			padding_y:35
			password:'true'
			hint_text:'Enter Password'
			
		Button:
			text:'Login'
			on_press:root.validate()
			
		Button:
			text:'New User?'
			on_press:root.manager.current='register'
		
<UserScreen>:
	name:"user"
	on_enter:root.display()
	
	GridLayout:
		rows:6

		Label:
			id:name
			text:'Fetching'
			
		Label:
			id:balance
			text:'Fetching'
			
		Button:
			text:'Add or Transfer Money'
			on_press:root.manager.current='money'
	
		Label:
			id:transactions
			text:'Fetching'
			
		Button:
			text:'Log Out'
			on_press:root.manager.current='login'
		
<MoneyScreen>:
	
	name:"money"
	
	GridLayout:
		
		rows:3
		
		Button:
			text:'Add Money'
			on_press:Factory.AddMoney().open()
			
		Button:
			text:'Transfer Money'
			on_press:Factory.TransferMoney().open()
			
		Button:
			text:'Back'
			on_press:root.manager.current='user'
		
	

<AddMoney@Popup>

	title:'Add Money'
	size_hint:.5,.5
	
	GridLayout:
	
		rows:2
		
		TextInput:
			hint_text:'Enter Amount'
			id:money_add
			
		Button:
			text: 'Add Money'
			on_press:root.add_money()

<TransferMoney@Popup>
		
	title:'Transfer Money'
	size_hint:.5,.5
	
	GridLayout:
	
		rows:3
		
		TextInput:
			hint_text:'Enter Email of Receiver'
			id:transfer_email
		
		TextInput:
			hint_text:'Enter Amount'
			id:money_transfer
			
		Button:
			text: 'Transfer Money'
			on_press:root.transfer_money()

		
		
		
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		